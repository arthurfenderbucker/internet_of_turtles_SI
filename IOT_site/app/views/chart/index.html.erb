<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
</head>

<body>




    <h1 class="classloader">Analysis</h1>
    <ul>
        <li id="bars">bars</li>
        <li id="donuts">dounts</li>
    </ul>
    <div class="chart"></div>
    <div id="my_dataviz"></div>
    <script>
        // $('.chart')[0].innerHTML = ("<%= j (render partial: 'chart') %>")

        $(document).ready(function () {

            $('#bars').click(function () { 
                $('.chart').html("<%=j(render :partial => 'chart/chart', :locals => {:analysis => 'analysis/2' , :chart_type => 'bars'} )%>");
            });
            $('#donuts').click(function () { 
                $('.chart').html("<%=j(render :partial => 'chart/chart', :locals => {:analysis => 'analysis/2' , :chart_type => 'donuts'} )%>");
            });

        })

    </script>
</body>


</html>